<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head><title>Even ACD1 TP3</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  </head>
  <body bgcolor="#3FBFAF" text="#4F2F1F">
    <h2>ACD1 - Canevas du TP 3 : Encapsulation</h2>
    <p> L'objectif du TP est de s'entra&icirc;ner &agrave; l'utilisation et
        &agrave; la r&eacute;alisation d'un paquetage. L'application
        retenue porte sur des traitements de formes g&eacute;om&eacute;triques
        simples (points, segments droits, triangles et polygones). </p>
    <p> On commencera par r&eacute;aliser une classe <tt>Point</tt> en
        bin&ocirc;me. Puis chaque membre du bin&ocirc;me travaillera
        s&eacute;par&eacute;ment sur la classe <tt>Segment</tt> et sur la
        classe <tt>Triangle</tt>. Le bin&ocirc;me se r&eacute;unira enfin
        pour travailler sur la classe <tt>Polygone</tt>. </p>
    <p> Attention, vous n'&ecirc;tes pas sens&eacute;s &ecirc;tre experts
        math&eacute;maticiens ou graphistes. Tous les services
        math&eacute;matiques ou graphiques dont vous avez besoin pour
        r&eacute;pondre aux questions seront demand&eacute;s &agrave; des
        instances des classes du paquetage <tt>geodessin</tt> &agrave; l'aide
        du mot-cl&eacute; <tt>import</tt>. Veiller &agrave; n'importer
        <b>que</b> ce qui est effectivement utile &agrave; la classe
        d&eacute;velopp&eacute;e. </p>
    <dl>
      <dt> L'archive &agrave; remettre &agrave; la fin du TP (format ZIP,
        TAR ou TGZ uniquement) comportera uniquement : </dt>
      <dd> - le compte-rendu (versions ODT + PDF), </dd>
      <dd> - un r&eacute;pertoire <tt>polygones</tt> avec les fichiers sources
           (.java) r&eacute;alis&eacute;s, y compris les tests, </dd>
      <dd> - la documentation javadoc du paquetage obtenue par la commande :
           <br>
       <tt>javadoc -d doc -private -docencoding ISO-8859-1 polygones/*.java</tt>
      <dd> - le paquetage <tt>polygones.jar</tt> contenant les classes
           ex&eacute;cutables par une JVM, obtenu par la commande : <br>
           <tt>jar cvf polygones.jar polygones/*.class</tt> </dd>
    </dl>
    <p> <b>Attention</b> : les classes obtenues devront &ecirc;tre
        conserv&eacute;es pour les TP suivants (TP4 et TP6). </p>
    <p> L'&eacute;valuation du TP portera plus sur la qualit&eacute; de
        d&eacute;veloppement (propret&eacute; du code, documentation Javadoc,
        m&eacute;thodologie de tests) que sur la quantit&eacute; de
        fonctionnalit&eacute;s fournies. </p>
    <p> Les m&eacute;thodes devront syst&eacute;matiquement &ecirc;tre
        test&eacute;es en comparant la r&eacute;ponse fournie avec des
        valeurs test, et en effectuant des v&eacute;rifications graphiques
        s'appuyant sur les services de la classe <tt>Afficheur</tt>.
        Penser &agrave; <u>bien lire la documentation</u> de la classe
        <tt>Afficheur</tt> pour la faire fonctionner.
        Les tests doivent &ecirc;tre lanc&eacute;s depuis des classes de test.
        Les sources Java des classes de test devront &ecirc;tre fournis
        en fin de TP, dans l'archive &agrave; rendre. </p>
    <dl>
      <dt> Au minimum, le compte-rendu (un par bin&ocirc;me) doit : </dt>
      <dd> - rappeler le th&egrave;me principal du TP, </dd>
      <dd> - pr&eacute;ciser ce qui a &eacute;t&eacute; r&eacute;alis&eacute;
        dans le TP, </dd>
      <dd> - expliquer la gestion des paquetages dans ce TP (utilisation,
        r&eacute;alisation), </dd>
      <dd> - expliquer la notion d'encapsulation, illustr&eacute;e sur
        des exemples issus du TP, </dd>
      <dd> - expliquer la mise en oeuvre de l'agr&eacute;gation et de la
        composition forte au travers d'exemples issus du TP, </dd>
      <dd> - expliquer comment se servir de la classe <tt>Afficheur</tt>
        pour proc&eacute;der aux v&eacute;rifications graphiques. </dd>
    </dl>
    <h4>Travail &agrave; r&eacute;aliser</h4>
    <p> Si ce n'est pas d&eacute;j&agrave; fait, extraire de l'archive
        <tt>acd1tp4.tgz</tt> le paquetage <tt>geodessin.jar</tt> dont la
        <a href=doc/index.html>documentation</a> est (aussi) accessible
        <a href=doc/index.html>ici</a>. </p>
    <p> <a href="uml/umlv1.png">
             <img src="uml/umlv1.png" width="618" height="663"></a> </p>
    <p> Bien que les classes &agrave; r&eacute;aliser portent sur des objets
        g&eacute;om&eacute;triques, toute la partie math&eacute;matique
        devra &ecirc;tre d&eacute;l&eacute;gu&eacute;e au paquetage
        <tt>geodessin.geo</tt>. Vous ne devrez <b>pas toucher aux maths</b>.
        M&ecirc;me des fonctions simples, comme le calcul de la distance
        entre deux points ou v&eacute;rifier que deux points sont confondus,
        devront &ecirc;tre d&eacute;l&eacute;gu&eacute;es. </p>
    <p> L'objectif est de r&eacute;aliser un nouveau paquetage
        <tt>polygones.jar</tt> compos&eacute; des classes du diagramme UML
        ci-dessus. Pour cela, les fichiers java devront &ecirc;tre
        plac&eacute;s dans un r&eacute;pertoire de m&ecirc;me nom que le
        paquetage, et apr&egrave;s l'en-t&ecirc;te de fichier, on doit
        trouver l'instruction : <br>
        <tt>package polygones;</tt> </p>
    <p> Pour que le paquetage <tt>geodessin</tt> soit trouv&eacute; &agrave;
        la compilation et &agrave; l'ex&eacute;cution, il faudra commencer
        par mettre &agrave; jour la variable d'environnement <tt>CLASSPATH</tt>
        &agrave; l'aide de la commande : <br>
        <tt>export CLASSPATH=$CLASSPATH:"CHEMIN"/geodessin.jar</tt> <br>
        dans laquelle <tt>"CHEMIN"</tt> correspond au chemin absolu depuis la
        racine vers le fichier <tt>geodessin.jar</tt>. </p>
    <p> Les fichiers sources devront &ecirc;tre compil&eacute;s depuis le
        r&eacute;pertoire sup&eacute;rieur, par exemple, avec la commande : <br>
        <tt>javac polygones/Point.java</tt>. </p>
    <h4>Recommandations g&eacute;n&eacute;rales :</h4>
    <ul>
      <dt> Veiller &agrave; bien respecter la syntaxe du diagramme UML
          (intitul&eacute; des attributs et m&eacute;thodes, types de
          composition, cardinalit&eacute;s). </dt>
      <dt> Pour les <b>compositions fortes</b>, s'assurer qu'on ne puisse
          jamais acc&eacute;der depuis l'ext&eacute;rieur de la classe aux
          composants (faire des copies en entr&eacute;e et en sortie). </dt>
      <dt> Penser &agrave; trouver un <b>constructeur principal</b>
          pertinent pour chaque classe. </dt>
      <dt> Pour la r&eacute;alisation des tests g&eacute;om&eacute;triques,
          s'appuyer sur les services de la classe <tt>Geometre</tt>.
          En particulier, cette classe utilise une valeur de granularit&eacute;
          pour les comparaisons de valeurs r&eacute;elles. Pour r&eacute;aliser
          des tests, une valeur de 0.01 est judicieuse. </dt>
      <dt> Il faudra s'assurer que les conversions en cha&icirc;ne de
          caract&egrave;res proposent un format bien adapt&eacute; &agrave;
          une int&eacute;gration dans tout type de messages. </dt>
    </ul>
    <h4>Recommandations pour la classe Point :</h4>
    <ul>
      <dt> Dans le constructeur par recopie et dans l'accesseur fournissant
          les coordonn&eacute;es, les coordonn&eacute;es du point doivent
          &ecirc;tre recopi&eacute;es. </dt>
      <dt> Le point sym&eacute;trique de <tt>P</tt> autour du centre <tt>C</tt>
          peut &ecirc;tre trouv&eacute; en parcourant le double du chemin
          de <tt>P</tt> &agrave; <tt>C</tt>. </dt>
    </ul>
    <h4>Recommandations pour la classe Segment :</h4>
    <ul>
      <dt> Attention : l'intersection entre les droites support des
          segments n'est pas n&eacute;cessairement sur les deux segments. </dt>
      <dt> L'inverse du segment AB est le segment BA. </dt>
      <dt> Le test <tt>coupe</tt> v&eacute;rifie si 2 segments se coupent. </dt>
      <dt> Le test <tt>contient</tt> v&eacute;rifie si le point en
          param&egrave;tre appartient au segment, extr&eacute;mit&eacute;s
          y-comprises. </dt>
      <dt> Le test <tt>aGauche</tt> v&eacute;rifie si le point en
          param&egrave;tre est situ&eacute; strictement sur la gauche du
          segment en le parcourant du point de d&eacute;part au point
          d'arriv&eacute;e (le point n'est pas sur le segment). </dt>
    </ul>
    <h4>Recommandations pour la classe Triangle :</h4>
    <ul>
      <dt> Le constructeur avec un tableau de points et trois entiers en
          param&egrave;tres construit un triangle dont les sommets sont
          les points du tableau index&eacute;s par les trois entiers. </dt>
      <dt> Le test <tt>direct</tt> v&eacute;rifie si les sommets sont
          sp&eacute;cifi&eacute;s dans le sens trigonom&eacute;trique direct
          (inverse des aiguilles d'une montre vosgienne). </dt>
      <dt> Le test <tt>passePar</tt> v&eacute;rifie si le point en
          param&egrave;tre est sur le p&eacute;rim&egrave;tre du triangle. </dt>
      <dt> Le test <tt>entoure</tt> v&eacute;rifie si le point en
          param&egrave;tre est strictement &agrave; l'int&eacute;rieur du
          triangle (p&eacute;rim&egrave;tre exclus); pour cela, il suffit de
          v&eacute;rifier que le point est toujours du m&ecirc;me
          c&ocirc;t&eacute; de chaque ar&ecirc;te. </dt>
    </ul>
    <h4>Quelques pr&eacute;cisions sur les polygones :</h4>
    <ul>
      <dt> Les polygones sont d&eacute;finis par une liste ordonn&eacute;e de
          sommets. </dt>
      <dt> On ne doit pas pouvoir construire de polygone auto-s&eacute;cant,
          &agrave; savoir un polygone comportant des ar&ecirc;tes qui se
          coupent (test pr&eacute;lable &agrave; toute construction). </dt>
      <dt> Le p&eacute;rim&egrave;tre du polygone relie successivement
          chaque sommet pris cons&eacute;cutivement dans la liste. </dt>
      <dt> Les ar&ecirc;tes doivent &ecirc;tre list&eacute;es dans le
          m&ecirc;me sens que les sommets, en respectant le sens de
          parcours. </dt> <br>
      <dt> Une diagonale du polygone est un segment reliant deux sommets sans
          franchir le p&eacute;rim&egrave;tre du polygone et enti&egrave;rement
          contenu &agrave; l'int&eacute;rieur du polygone. </dt>
      <dt> Un polygone convexe est tel que l'angle entre deux ar&ecirc;tes
          successives est toujours de m&ecirc;me signe. </dt>
      <dt> L'enveloppe convexe est la forme d&eacute;finie par un
          &eacute;lastique entourant le polygone. </dt>
      <dt> La triangulation est une d&eacute;composition du polygone en
          triangles sans recouvrement (l'intersection entre chaque triangle
          est au mieux une ar&ecirc;te). </dt>
    </ul>
    <h4>Recommandations pour la classe Polygone :</h4>
    <ul>
      <dt> Le test <tt>direct</tt> v&eacute;rifie si les sommets sont
          sp&eacute;cifi&eacute;s dans le sens trigonom&eacute;trique direct
          (inverse des aiguilles d'une horloge normande). </dt>
      <dt> Le test <tt>autos&eacute;cant</tt> v&eacute;rifie si le polygone
          a des ar&ecirc;tes qui se croisent. </dt>
      <dt> L'accesseur <tt>sousPolygone</tt> retourne une copie du polygone
          dont on a retranch&eacute; un sommet (celui dont l'index est fourni
          en param&egrave;tre). </dt> <br>
      <dt> Pour le test <tt>entoure</tt>, si le polygone est convexe,
          v&eacute;rifier que le point est toujours du m&ecirc;me
          c&ocirc;t&eacute; de chaque ar&ecirc;te. <br>
          Dans le cas d'un polygone non-convexe, on compte le nombre
          d'intersections
          entre une demi-droite issue du point fourni avec le
          p&eacute;rim&egrave;tre, et on v&eacute;rifie que ce nombre est
          impair. Attention, le cas des sommets situ&eacute;s sur la
          demi-droite est d&eacute;licat &agrave; traiter. </dt> <br>
      <dt> Pour la triangulation d'un polygone convexe, tourner autour de
          n'importe quel sommet du polygone en formant des triangles avec ce
          sommet et deux autres sommets cons&eacute;cutifs. <br>
          Dans le cas d'un polygone non-convexe, on tourne autour du polygone
          en testant chaque sommet. Si le segment reliant le sommet
          pr&eacute;c&eacute;dent et le sommet suivant est une diagonale, on
          a un triangle que l'on peut retrancher du polygone. Sinon, on passe
          au sommet suivant. On proc&egrave;de de la sorte de sommet en sommet
          jusqu'&agrave; ne plus avoir que trois sommets &agrave; traiter
          (le dernier triangle). </dt>
    </ul>
  </body>
</html>
